(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{124:function(e,t,a){},168:function(e,t,a){},180:function(e,t,a){e.exports=a(259)},189:function(e,t,a){},190:function(e,t,a){},195:function(e,t,a){},196:function(e,t,a){},243:function(e,t,a){},244:function(e,t,a){},245:function(e,t,a){},246:function(e,t,a){},257:function(e,t,a){},259:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(31),o=a.n(l),c=a(15),s=a(47),i=a(174),m=a(175),u=a(10),h={isLoading:!1,isAuthenticated:!1,username:"",accessToken:"",userRole:"",phase:""},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_LOADING":return Object(u.a)({},e,{isLoading:t.isLoading});case"LOGIN_SUCCESS":return Object(u.a)({},e,{isAuthenticated:!0,username:t.user.userName,accessToken:t.user.access_token,userRole:t.user.userRole,phase:t.user.phase});case"TOKEN_VALIDATED":return Object(u.a)({},e,{isAuthenticated:!0,accessToken:t.accessToken,phase:t.phase,userRole:"Admin"});case"LOGOUT":return localStorage.removeItem("token"),h;default:return e}},p={error:!1,errorMessage:"",alert:!1,alertMessage:""},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_ERROR":return Object(u.a)({},e,{error:!0,errorMessage:t.message});case"SHOW_ALERT":return Object(u.a)({},e,{alert:!0,alertMessage:t.message});case"HIDE_ERROR":return Object(u.a)({},e,{error:!1,errorMessage:""});case"HIDE_ALERT":return Object(u.a)({},e,{alert:!1,alertMessage:""});default:return p}},f={students:[],isLoading:!1,bulkAddIsDone:!1,roomConfirmed:!1},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STUDENTS_LOADING":return Object(u.a)({},e,{isLoading:t.isLoading});case"STUDENTS_SUCCESS":return Object(u.a)({},e,{students:t.students});case"STUDENTS_BULK_ADD_DONE":return Object(u.a)({},e,{bulkAddIsDone:t.isDone});case"CREATE_STUDENT_DONE":var a=e.students.slice();return a.push(t.student),Object(u.a)({},e,{students:a});case"ROOM_CONFIRMED":return Object(u.a)({},e,{roomConfirmed:!0});default:return e}},v={isLoading:!1,isDone:!1,currentCampaign:null},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_CAMPAIGN_LOADING":return Object(u.a)({},e,{isLoading:t.isLoading});case"CREATE_CAMPAIGN_SUCCESS":return Object(u.a)({},e,{isDone:!0});case"GET_CAMPAIGN_DONE":return Object(u.a)({},e,{currentCampaign:{phase0start:t.campaign[0],phase0end:t.campaign[1],phase1start:t.campaign[1],phase1end:t.campaign[2],phase2start:t.campaign[2],phase2end:t.campaign[3],phase3start:t.campaign[3],phase3end:t.campaign[4]}});default:return v}},C={rooms:[]},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_ROOMS_SUCCESS":return Object(u.a)({},e,{rooms:t.rooms});default:return e}},k={invitations:[],fromInvitations:[],toInvitations:[],isLoading:!1},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_INVITATIONS_ADMIN_SUCCESS":return Object(u.a)({},e,{invitations:t.invitations});case"FETCH_INVITATIONS_STUDENT_SUCCESS":return Object(u.a)({},e,{fromInvitations:t.fromInvitations,toInvitations:t.toInvitations});case"INVITATIONS_LOADING":return Object(u.a)({},e,{isLoading:t.isLoading});default:return e}},y={apartments:[]},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_APARTMENTS_SUCCESS":return Object(u.a)({},e,{apartments:t.apartments});default:return e}},j=Object(s.combineReducers)({auth:d,alert:E,students:b,campaign:g,rooms:O,invitations:S,apartments:I});var N=function(e){var t=[i.a],a=[s.applyMiddleware.apply(void 0,t)],n=m.composeWithDevTools.apply(void 0,a);return Object(s.createStore)(j,e,n)},T=a(56),R=a(18),A=a(263),w=a(264),D=a(265),M=a(266),x=a(267),L=a(12),F=a(13),H=a(16),P=a(14),_=a(17),z=a(3),B=a(260),V=a(261),U=a(262),G=a(177),Y=function(e){function t(e){var a;return Object(L.a)(this,t),(a=Object(H.a)(this,Object(P.a)(t).call(this,e))).state={username:"",password:""},a.handleChange=a.handleChange.bind(Object(z.a)(Object(z.a)(a))),a.handleLogin=a.handleLogin.bind(Object(z.a)(Object(z.a)(a))),a}return Object(_.a)(t,e),Object(F.a)(t,[{key:"handleChange",value:function(e){var t={};t[e.target.name]=e.target.value,this.setState(t)}},{key:"handleLogin",value:function(){this.props.login({username:this.state.username,password:this.state.password})}},{key:"render",value:function(){return r.a.createElement("div",{id:"login-form"},r.a.createElement(B.a,null,r.a.createElement(V.a,{for:"username"},"Username"),r.a.createElement(U.a,{type:"text",name:"username",onChange:this.handleChange,value:this.state.username,placeholder:"username@studin.aubgin.local"})),r.a.createElement(B.a,{className:"mb-4"},r.a.createElement(V.a,{for:"password"},"Password"),r.a.createElement(U.a,{type:"password",name:"password",onChange:this.handleChange,value:this.state.password,placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"})),r.a.createElement(G.a,{color:"primary",onClick:this.handleLogin},"Login"))}}]),t}(n.Component),W=(a(189),function(){return r.a.createElement("div",{className:"loader"})}),J=(a(190),function(e){return r.a.createElement("div",{id:"login"},r.a.createElement(A.a,null,r.a.createElement(w.a,{className:"vh-100"},r.a.createElement(D.a,{md:{size:10,offset:1},className:"my-auto position-relative"},function(e){return e.isAuthenticated?r.a.createElement(T.a,{to:"/students"}):""}(e),r.a.createElement(M.a,{className:"p-2"},r.a.createElement(x.a,null,r.a.createElement(w.a,null,r.a.createElement(D.a,{className:"pr-lg-5 pb-5 pb-lg-0 border-right",lg:"6"},r.a.createElement(Y,{login:e.login}),function(e){if(e.isLoading)return r.a.createElement(W,null)}(e)),r.a.createElement(D.a,{className:"pl-lg-5",lg:"6"},r.a.createElement("h6",{className:"mb-3"},"Login instructions"),r.a.createElement("p",null,"Please, enter your Username and Password and click the Login button below."),r.a.createElement(w.a,null,r.a.createElement(D.a,{md:"4"},r.a.createElement("small",{className:"text-uppercase"},"Username")),r.a.createElement(D.a,{md:"8"},r.a.createElement("small",null,"username@studin.aubgin.local"))),r.a.createElement(w.a,null,r.a.createElement(D.a,{md:"4"},r.a.createElement("small",{className:"text-uppercase"},"Password")),r.a.createElement(D.a,{md:"8"},r.a.createElement("small",null,"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022 (domain password)")))))))))))});var q,K=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var l={type:e};return a.forEach(function(e,t){l[a[t]]=n[t]}),l}},X=K("SHOW_ERROR","message"),Q=(K("SHOW_ALERT","message"),K("HIDE_ERROR")),Z=K("HIDE_ALERT"),$="http://172.17.16.48/api",ee=K("LOGIN_LOADING","isLoading"),te=K("LOGIN_SUCCESS","user"),ae=K("LOGOUT"),ne=K("TOKEN_VALIDATED","accessToken","phase"),re=Object(c.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated,isLoading:e.auth.isLoading,username:e.auth.username,accessToken:e.auth.accessToken,userRole:e.auth.userRole,phase:e.auth.phase,loc:e.auth.loc}},function(e){return{login:function(t){e(function(e){return function(t){t(ee(!0)),fetch("".concat($,"/token"),{body:"username=".concat(e.username,"&password=").concat(e.password,"&role=Admin&phase=1"),headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST"}).then(function(e){return e.json()}).then(function(e){t(ee(!1)),t(te(e)),localStorage.setItem("token",e.access_token)}).catch(function(e){t(ee(!1)),t(X(e.toString()))})}}(t))},logout:function(){e(ae())},showError:function(t){e(X(t))}}})(J),le=(a(195),function(e){return r.a.createElement("div",{id:"secondary-nav",className:"border-bottom"},r.a.createElement(w.a,null,r.a.createElement(D.a,{md:"6"},r.a.createElement("p",null,e.title)),r.a.createElement(D.a,{md:"6",className:"text-right"},r.a.createElement("ul",null,e.links.map(function(e,t){return r.a.createElement(R.b,{to:e.href},r.a.createElement("li",{key:t},e.title))})))))}),oe=function(e){return r.a.createElement(A.a,null,r.a.createElement(w.a,null,r.a.createElement(D.a,null,r.a.createElement(le,{links:e.secondaryNav,title:e.title}))),r.a.createElement(w.a,null,r.a.createElement(D.a,null,e.children)))},ce=a(268),se=a(269),ie=(a(196),function(){return r.a.createElement("div",null,r.a.createElement(w.a,null,r.a.createElement(D.a,null,r.a.createElement("p",null,"Skaptopara 1"),r.a.createElement(ce.a,null,r.a.createElement(R.b,{to:"/rooms/view?sk=1&floor=1",className:"f-item"},r.a.createElement(se.a,null,"Floor 1")),r.a.createElement(R.b,{to:"/rooms/view?sk=1&floor=2",className:"f-item"},r.a.createElement(se.a,null,"Floor 2")),r.a.createElement(R.b,{to:"/rooms/view?sk=1&floor=3",className:"f-item"},r.a.createElement(se.a,null,"Floor 3")),r.a.createElement(R.b,{to:"/rooms/view?sk=1&floor=4",className:"f-item"},r.a.createElement(se.a,null,"Floor 4")),r.a.createElement(R.b,{to:"/rooms/view?sk=1&floor=5",className:"f-item"},r.a.createElement(se.a,null,"Floor 5")))),r.a.createElement(D.a,null,r.a.createElement("p",null,"Skaptopara 2"),r.a.createElement(ce.a,null,r.a.createElement(R.b,{to:"/rooms/view?sk=2&floor=1",className:"f-item"},r.a.createElement(se.a,null,"Floor 1")),r.a.createElement(R.b,{to:"/rooms/view?sk=2&floor=2",className:"f-item"},r.a.createElement(se.a,null,"Floor 2")),r.a.createElement(R.b,{to:"/rooms/view?sk=2&floor=3",className:"f-item"},r.a.createElement(se.a,null,"Floor 3")),r.a.createElement(R.b,{to:"/rooms/view?sk=2&floor=4",className:"f-item"},r.a.createElement(se.a,null,"Floor 4")),r.a.createElement(R.b,{to:"/rooms/view?sk=2&floor=5",className:"f-item"},r.a.createElement(se.a,null,"Floor 5")))),r.a.createElement(D.a,null,r.a.createElement("p",null,"Skaptopara 3"),r.a.createElement(ce.a,null,r.a.createElement(R.b,{to:"/rooms/view?sk=3&floor=1",className:"f-item"},r.a.createElement(se.a,null,"Floor 1")),r.a.createElement(R.b,{to:"/rooms/view?sk=3&floor=2",className:"f-item"},r.a.createElement(se.a,null,"Floor 2")),r.a.createElement(R.b,{to:"/rooms/view?sk=3&floor=3",className:"f-item"},r.a.createElement(se.a,null,"Floor 3")),r.a.createElement(R.b,{to:"/rooms/view?sk=3&floor=4",className:"f-item"},r.a.createElement(se.a,null,"Floor 4")),r.a.createElement(R.b,{to:"/rooms/view?sk=3&floor=5",className:"f-item"},r.a.createElement(se.a,null,"Floor 5")),r.a.createElement(R.b,{to:"/rooms/view?sk=3&floor=6",className:"f-item"},r.a.createElement(se.a,null,"Floor 6"))))))}),me=function(e){function t(){return Object(L.a)(this,t),Object(H.a)(this,Object(P.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(F.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{id:"rooms"},r.a.createElement(oe,{title:"Rooms",secondaryNav:[{title:"All Rooms",href:"/rooms/"},{title:"Create Room",href:"/rooms/create"}]},r.a.createElement(ie,null)))}}]),t}(r.a.Component),ue=a(48),he=a(270),de=a(49),pe=function(e){function t(e){var a;return Object(L.a)(this,t),(a=Object(H.a)(this,Object(P.a)(t).call(this,e))).state={redirect:!1,redirectTo:""},a.columnDefs=[{headerName:"Student ID",field:"Id",sortable:!0,filter:!0,width:135},{headerName:"Name",field:"FirstName",sortable:!0,filter:!0,cellRendererFramework:function(e){return"".concat(e.data.FirstName," ").concat(e.data.MiddleName?e.data.MiddleName:""," ").concat(e.data.LastName)}},{headerName:"Room Number",field:"CurrentRoomNumber",sortable:!0,filter:!0,width:155},{headerName:"Registration Time",field:"RegistrationTime",sortable:!0,filter:!0,cellRendererFramework:function(e){return null!==e.data.RegistrationTime?e.data.RegistrationTime.replace("T"," "):""}},{headerName:"Comments",field:"Comments",sortable:!0,filter:!0},{headerName:"RA",field:"IsRA",sortable:!0,filter:!0,width:90,cellRendererFramework:function(e){return r.a.createElement(U.a,{type:"checkbox",disabled:!0,checked:e.data.IsRA,style:{margin:"1.05rem 0 0 0"}})}},{headerName:"Email",field:"Email",sortable:!0,filter:!0},{headerName:"Sex",field:"IsMale",sortable:!0,filter:!0,width:95,cellRendererFramework:function(e){return null!==e.data.isMale?e.data.IsMale?"Male":"Female":""}},{headerName:"On Campus",field:"IsOnCampus",sortable:!0,filter:!0,width:140,cellRendererFramework:function(e){return r.a.createElement(U.a,{type:"checkbox",disabled:!0,checked:e.data.IsOnCampus,style:{margin:"1.05rem 0 0 0"}})}},{headerName:"Credit Hours",field:"CreditHours",sortable:!0,filter:!0,width:150},{headerName:"Operations",pinned:"right",width:150,cellRendererFramework:function(e){return r.a.createElement("div",null,r.a.createElement(he.a,{size:"sm"},r.a.createElement(G.a,{onClick:function(){return a.handleDetails(e.data.Id)}},"Details"),r.a.createElement(G.a,{onClick:function(){return a.handleDelete(e.data.Id)}},"Delete")))}}],a.handleDetails=a.handleDetails.bind(Object(z.a)(Object(z.a)(a))),a.handleDelete=a.handleDelete.bind(Object(z.a)(Object(z.a)(a))),a}return Object(_.a)(t,e),Object(F.a)(t,[{key:"handleDetails",value:function(e){this.setState({redirect:!0,redirectTo:"/single-student?id=".concat(e)})}},{key:"handleDelete",value:function(e){var t=this;fetch("".concat($,"/students/").concat(e),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.props.accessToken)}}).then(function(){return t.props.fetchStudents()}).catch(function(e){t.props.showError("Could not delete student."),console.log(e)})}},{key:"render",value:function(){return this.state.redirect?r.a.createElement(T.a,{to:this.state.redirectTo}):this.props.isLoading?r.a.createElement(W,null):r.a.createElement("div",{className:"ag-theme-material",style:{height:"500px",width:"100%"}},r.a.createElement("div",{style:{width:"100%",textAlign:"right",marginBottom:"1em"}},r.a.createElement(de.CSVLink,{data:this.props.students,filename:"students-export.csv"},r.a.createElement("svg",{viewBox:"0 0 512 512",style:{width:"21px"}},r.a.createElement("path",{id:"statement",d:"M339.527,370.312H171.505v-30h168.022V370.312z M339.495,314.896h-167.99v-30h167.99V314.896zM339.495,259.562h-167.99v-30h167.99V259.562z M297.818,90v85.75h85.864V422H128.317V90H297.818 M322.818,50H88.317v412h335.365V150.75L322.818,50z"})),r.a.createElement("div",{style:{display:"inline-block",position:"relative",top:"2px",color:"black"}},"Export CSV"))),r.a.createElement(ue.AgGridReact,{columnDefs:this.columnDefs,rowData:this.props.students,paginationPageSize:30,pagination:!0}))}}]),t}(r.a.Component),Ee=function(e){function t(){return Object(L.a)(this,t),Object(H.a)(this,Object(P.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(F.a)(t,[{key:"componentWillMount",value:function(){this.props.fetchStudents()}},{key:"render",value:function(){return r.a.createElement("div",{id:"students"},r.a.createElement(oe,{title:"Students",secondaryNav:[{title:"All Students",href:"/students/"},{title:"Create Student",href:"/students/create"},{title:"Bulk Add Students",href:"/students/bulk-add"}]},r.a.createElement(pe,{students:this.props.students,isLoading:this.props.isLoading,accessToken:this.props.accessToken,fetchStudents:this.props.fetchStudents})))}}]),t}(r.a.Component),fe=function(e){var t=[];return e.forEach(function(e){var a={};Object.keys(e).forEach(function(t){var n=t.toUpperCase().replace(/ /g,"");if("ID"===n&&(a.Id=e[t]),"FIRSTNAME"===n&&(a.FirstName=e[t]),"LASTNAME"===n&&(a.LastName=e[t]),"CREDITHOURS"===n&&(a.CreditHours=parseInt(e[t])),"EMAIL"!==n&&"E-MAIL"!==n||(a.Email=e[t]),"SEX"===n||"GENDER"===n||"ISMALE"===n){var r=e[t].toUpperCase();"MALE"!==r&&"FEMALE"!==r||(a.IsMale="MALE"===r),"M"!==r&&"F"!==r||(a.IsMale="M"===r),"ISMALE"!==n||1!=r&&0!=r||(a.IsMale=r)}}),a.Id&&a.FirstName&&a.LastName&&a.CreditHours&&a.Email&&a.IsMale&&t.push(a)}),t},be=K("STUDENTS_LOADING","isLoading"),ve=K("STUDENTS_SUCCESS","students"),ge=K("STUDENTS_BULK_ADD_DONE","isDone"),Ce=K("ROOM_CONFIRMED"),Oe=Object(c.b)(function(e){return{accessToken:e.auth.accessToken,students:e.students.students}},function(e){return{fetchStudents:function(){e(function(e,t){e(be(!0)),fetch("".concat($,"/students"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t().auth.accessToken)}}).then(function(e){return e.json()}).then(function(t){e(be(!1)),e(ve(t))}).catch(function(t){e(be(!1)),e(X("Could not fetch students.")),console.log(t)})})}}})(Ee),ke=a(271),Se=a(272),ye=a(58),Ie=a(57),je=a.n(Ie),Ne=(a(168),function(e){return e.toISOString().split(".")[0]}),Te=function(e){function t(e){var a;return Object(L.a)(this,t),(a=Object(H.a)(this,Object(P.a)(t).call(this,e))).state={Phase1Start:je()(),Phase2Start:je()(),Phase3Start:je()(),Phase3End:je()()},a.handleChange=a.handleChange.bind(Object(z.a)(Object(z.a)(a))),a.buttonHandler=a.buttonHandler.bind(Object(z.a)(Object(z.a)(a))),a.stopHandler=a.stopHandler.bind(Object(z.a)(Object(z.a)(a))),a}return Object(_.a)(t,e),Object(F.a)(t,[{key:"stopHandler",value:function(){var e=this;fetch("".concat($,"/campaigns"),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.props.accessToken)}}).catch(function(t){e.props.showError("Could not stop the campaign. Try again later."),console.log(t)})}},{key:"handleChange",value:function(e,t){var a={};a[e]=t,this.setState(a)}},{key:"buttonHandler",value:function(){this.props.createCampaign({Phase1Start:Ne(this.state.Phase1Start),Phase2Start:Ne(this.state.Phase2Start),Phase3Start:Ne(this.state.Phase3Start),Phase3End:Ne(this.state.Phase3End)})}},{key:"render",value:function(){var e=this;return this.props.isLoading?r.a.createElement(W,null):r.a.createElement("div",null,r.a.createElement("p",{className:"phase-title"},"Phase 1"),r.a.createElement(w.a,null,r.a.createElement(D.a,null,r.a.createElement(B.a,null,r.a.createElement(V.a,{for:"phase1start"},"Start"),r.a.createElement(ye.DatetimePickerTrigger,{moment:this.state.Phase1Start,onChange:function(t){e.handleChange("Phase1Start",t)}},r.a.createElement(U.a,{type:"text",value:this.state.Phase1Start.format("YYYY-MM-DD HH:mm"),readOnly:!0})))),r.a.createElement(D.a,null,r.a.createElement(B.a,null,r.a.createElement(V.a,{for:"phase1end"},"End"),r.a.createElement(ye.DatetimePickerTrigger,{moment:this.state.Phase2Start,onChange:function(t){e.handleChange("Phase2Start",t)}},r.a.createElement(U.a,{type:"text",value:this.state.Phase2Start.format("YYYY-MM-DD HH:mm"),readOnly:!0}))))),r.a.createElement("p",{className:"phase-title"},"Phase 2"),r.a.createElement(w.a,null,r.a.createElement(D.a,null,r.a.createElement(B.a,null,r.a.createElement(V.a,{for:"phase1start"},"Start"),r.a.createElement(ye.DatetimePickerTrigger,{moment:this.state.Phase2Start,onChange:function(t){e.handleChange("Phase2Start",t)}},r.a.createElement(U.a,{type:"text",value:this.state.Phase2Start.format("YYYY-MM-DD HH:mm"),readOnly:!0})))),r.a.createElement(D.a,null,r.a.createElement(B.a,null,r.a.createElement(V.a,{for:"phase1end"},"End"),r.a.createElement(ye.DatetimePickerTrigger,{moment:this.state.Phase3Start,onChange:function(t){e.handleChange("Phase3Start",t)}},r.a.createElement(U.a,{type:"text",value:this.state.Phase3Start.format("YYYY-MM-DD HH:mm"),readOnly:!0}))))),r.a.createElement("p",{className:"phase-title"},"Phase 3"),r.a.createElement(w.a,null,r.a.createElement(D.a,null,r.a.createElement(B.a,null,r.a.createElement(V.a,{for:"phase1start"},"Start"),r.a.createElement(ye.DatetimePickerTrigger,{moment:this.state.Phase3Start,onChange:function(t){e.handleChange("Phase3Start",t)}},r.a.createElement(U.a,{type:"text",value:this.state.Phase3Start.format("YYYY-MM-DD HH:mm"),readOnly:!0})))),r.a.createElement(D.a,null,r.a.createElement(B.a,null,r.a.createElement(V.a,{for:"phase1end"},"End"),r.a.createElement(ye.DatetimePickerTrigger,{moment:this.state.Phase3End,onChange:function(t){e.handleChange("Phase3End",t)}},r.a.createElement(U.a,{type:"text",value:this.state.Phase3End.format("YYYY-MM-DD HH:mm"),readOnly:!0}))))),r.a.createElement(w.a,null,r.a.createElement(D.a,null,console.log(this.props.phase),-1!==this.props.phase?r.a.createElement(G.a,{color:"primary",className:"mt-3",onClick:this.stopHandler},"Stop Campaign"):r.a.createElement(G.a,{color:"primary",className:"mt-3",onClick:this.buttonHandler},"Start Campaign"))))}}]),t}(r.a.Component),Re=function(e){return e.campaign?r.a.createElement("div",null,r.a.createElement("p",{className:"phase-title"},"Campaign Starting Date"),r.a.createElement("p",null,e.campaign.phase0start.split("T").join(" ")),r.a.createElement("p",{className:"phase-title"},"Phase 1"),r.a.createElement("p",null,"Start: ",e.campaign.phase1start.split("T").join(" ")),r.a.createElement("p",null,"End: ",e.campaign.phase1end.split("T").join(" ")),r.a.createElement("p",{className:"phase-title"},"Phase 2"),r.a.createElement("p",null,"Start: ",e.campaign.phase2start.split("T").join(" ")),r.a.createElement("p",null,"End: ",e.campaign.phase2end.split("T").join(" ")),r.a.createElement("p",{className:"phase-title"},"Phase 3"),r.a.createElement("p",null,"Start: ",e.campaign.phase3start.split("T").join(" ")),r.a.createElement("p",null,"End: ",e.campaign.phase3end.split("T").join(" "))):r.a.createElement(W,null)},Ae=function(e){function t(){return Object(L.a)(this,t),Object(H.a)(this,Object(P.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(F.a)(t,[{key:"componentWillMount",value:function(){this.props.getCampaign()}},{key:"render",value:function(){return r.a.createElement("div",{id:"campaign"},r.a.createElement(oe,{title:"Campaign",secondaryNav:[]},r.a.createElement(w.a,null,r.a.createElement(D.a,null,r.a.createElement(M.a,null,r.a.createElement(x.a,null,r.a.createElement(ke.a,null,"Current Campaign"),r.a.createElement(Se.a,null,r.a.createElement(Re,{campaign:this.props.campaign}))))),r.a.createElement(D.a,null,r.a.createElement(M.a,null,r.a.createElement(x.a,null,r.a.createElement(ke.a,null,"Start Campaign"),r.a.createElement(Se.a,null,r.a.createElement(Te,{showError:this.props.showError,accessToken:this.props.accessToken,phase:this.props.phase,getCampaign:this.props.getCampaign,createCampaign:this.props.createCampaign,isDone:this.props.isDone,isLoading:this.props.isLoading}))))))))}}]),t}(r.a.Component),we=function(){return function(e,t){fetch("".concat($,"/campaigns/dates"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t().auth.accessToken)}}).then(function(e){return e.json()}).then(function(t){e(xe(t))}).catch(function(t){e(X(t.toString()))})}},De=K("CREATE_CAMPAIGN_LOADING","isLoading"),Me=K("CREATE_CAMPAIGN_SUCCESS"),xe=K("GET_CAMPAIGN_DONE","campaign"),Le=Object(c.b)(function(e){return{campaign:e.campaign.currentCampaign,isLoading:e.campaign.isLoading,isDone:e.campaign.isDone,phase:e.auth.phase,accessToken:e.auth.accessToken}},function(e){return{getCampaign:function(){e(we())},createCampaign:function(t){e(function(e){return function(t,a){console.log("req body,",e),t(De(!0)),fetch("".concat($,"/campaigns"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a().auth.accessToken)},body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){400===e.status?(t(De(!1)),t(X("Could not create campaign. Check the dates and try again."))):(t(De(!1)),t(Me())),t(we())}).catch(function(e){t(De(!1)),t(X(e.toString())),t(we())})}}(t))},showError:function(t){e(X(t))}}})(Ae),Fe=a(179),He=a.n(Fe),Pe=function(e){return r.a.createElement("div",{className:"csv-input"},r.a.createElement(He.a,{parserOptions:{header:!0},cssClass:e.cssClass,label:e.label,onFileLoaded:e.onFileLoaded,onError:e.onError}))},_e=(a(243),function(e){function t(e){var a;return Object(L.a)(this,t),(a=Object(H.a)(this,Object(P.a)(t).call(this,e))).state={data:[],submitDisabled:!0},a.fileHandler=a.fileHandler.bind(Object(z.a)(Object(z.a)(a))),a.renderDone=a.renderDone.bind(Object(z.a)(Object(z.a)(a))),a.buttonHandler=a.buttonHandler.bind(Object(z.a)(Object(z.a)(a))),a}return Object(_.a)(t,e),Object(F.a)(t,[{key:"buttonHandler",value:function(){this.props.bulkAddStudents(this.state.data)}},{key:"fileHandler",value:function(e){this.setState({submitDisabled:!1,data:e})}},{key:"renderDone",value:function(){return this.props.isDone?(this.props.bulkAddDone(!1),r.a.createElement(T.a,{to:"/students"})):""}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"students-bulk-add"},this.renderDone(),r.a.createElement(oe,{title:"Students | Bulk Add",secondaryNav:[{title:"All Students",href:"/students/"},{title:"Create Student",href:"/students/create"},{title:"Bulk Add Students",href:"/students/bulk-add"}]},r.a.createElement(w.a,null,r.a.createElement(D.a,{md:"6",className:"pb-3"},r.a.createElement(M.a,null,r.a.createElement(x.a,null,r.a.createElement(Pe,{label:"CSV File",className:"csv-input",onFileLoaded:this.fileHandler,onError:function(t){e.props.showError(t)}}))))),r.a.createElement(G.a,{onClick:this.buttonHandler,disabled:this.state.submitDisabled},"Submit")))}}]),t}(r.a.Component)),ze=Object(c.b)(function(e){return{isDone:e.students.bulkAddIsDone}},function(e){return{bulkAddStudents:function(t){e(function(e){return function(t,a){var n=fe(e);t(be(!0)),fetch("".concat($,"/students/batch"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a().auth.accessToken)},body:JSON.stringify(n)}).then(function(){t(be(!1)),t(ge(!0))}).catch(function(e){t(be(!1)),t(X("Could not process students.")),console.log(e)})}}(t))},bulkAddDone:function(t){e(ge(t))}}})(_e),Be=a(288),Ve=a(273),Ue=a(274),Ge=a(275),Ye=a(276),We=a(277),Je=a(278),qe=a(279),Ke=a(280),Xe=a(281),Qe=(a(244),function(e){return e.isAuthenticated?e.children:""}),Ze=Object(c.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated}})(Qe),$e=(a(245),a(246),function(e){return e.isLoading?r.a.createElement(W,null):r.a.createElement("div",null,r.a.createElement(ce.a,{flush:!0},r.a.createElement(se.a,{tag:"div"},r.a.createElement(w.a,null,r.a.createElement(D.a,{md:"8"},r.a.createElement("div",null,"From:"),r.a.createElement("div",null,"Nikola Lazarov ",r.a.createElement("span",null,"100164483")),r.a.createElement("div",null,"Room: ",r.a.createElement("span",null,"#1234"))),r.a.createElement(D.a,{md:"4",className:"text-right",style:{paddingTop:"1.5rem"}},r.a.createElement("svg",{className:"svg-icon invite-button",viewBox:"0 0 20 20",style:{marginRight:"0.44rem"}},r.a.createElement("path",{d:"M10.185,1.417c-4.741,0-8.583,3.842-8.583,8.583c0,4.74,3.842,8.582,8.583,8.582S18.768,14.74,18.768,10C18.768,5.259,14.926,1.417,10.185,1.417 M10.185,17.68c-4.235,0-7.679-3.445-7.679-7.68c0-4.235,3.444-7.679,7.679-7.679S17.864,5.765,17.864,10C17.864,14.234,14.42,17.68,10.185,17.68 M10.824,10l2.842-2.844c0.178-0.176,0.178-0.46,0-0.637c-0.177-0.178-0.461-0.178-0.637,0l-2.844,2.841L7.341,6.52c-0.176-0.178-0.46-0.178-0.637,0c-0.178,0.176-0.178,0.461,0,0.637L9.546,10l-2.841,2.844c-0.178,0.176-0.178,0.461,0,0.637c0.178,0.178,0.459,0.178,0.637,0l2.844-2.841l2.844,2.841c0.178,0.178,0.459,0.178,0.637,0c0.178-0.176,0.178-0.461,0-0.637L10.824,10z"})),r.a.createElement("svg",{class:"svg-icon invite-button",viewBox:"0 0 20 20"},r.a.createElement("path",{d:"M10.219,1.688c-4.471,0-8.094,3.623-8.094,8.094s3.623,8.094,8.094,8.094s8.094-3.623,8.094-8.094S14.689,1.688,10.219,1.688 M10.219,17.022c-3.994,0-7.242-3.247-7.242-7.241c0-3.994,3.248-7.242,7.242-7.242c3.994,0,7.241,3.248,7.241,7.242C17.46,13.775,14.213,17.022,10.219,17.022 M15.099,7.03c-0.167-0.167-0.438-0.167-0.604,0.002L9.062,12.48l-2.269-2.277c-0.166-0.167-0.437-0.167-0.603,0c-0.166,0.166-0.168,0.437-0.002,0.603l2.573,2.578c0.079,0.08,0.188,0.125,0.3,0.125s0.222-0.045,0.303-0.125l5.736-5.751C15.268,7.466,15.265,7.196,15.099,7.03"}))))),r.a.createElement(se.a,{tag:"div"},r.a.createElement(w.a,null,r.a.createElement(D.a,{md:"8"},r.a.createElement("div",null,"From:"),r.a.createElement("div",null,"Nikola Lazarov ",r.a.createElement("span",null,"100164483")),r.a.createElement("div",null,"Room: ",r.a.createElement("span",null,"#1234"))),r.a.createElement(D.a,{md:"4",className:"text-right",style:{paddingTop:"1.5rem"}},r.a.createElement("svg",{className:"svg-icon invite-button",viewBox:"0 0 20 20",style:{marginRight:"0.44rem"}},r.a.createElement("path",{d:"M10.185,1.417c-4.741,0-8.583,3.842-8.583,8.583c0,4.74,3.842,8.582,8.583,8.582S18.768,14.74,18.768,10C18.768,5.259,14.926,1.417,10.185,1.417 M10.185,17.68c-4.235,0-7.679-3.445-7.679-7.68c0-4.235,3.444-7.679,7.679-7.679S17.864,5.765,17.864,10C17.864,14.234,14.42,17.68,10.185,17.68 M10.824,10l2.842-2.844c0.178-0.176,0.178-0.46,0-0.637c-0.177-0.178-0.461-0.178-0.637,0l-2.844,2.841L7.341,6.52c-0.176-0.178-0.46-0.178-0.637,0c-0.178,0.176-0.178,0.461,0,0.637L9.546,10l-2.841,2.844c-0.178,0.176-0.178,0.461,0,0.637c0.178,0.178,0.459,0.178,0.637,0l2.844-2.841l2.844,2.841c0.178,0.178,0.459,0.178,0.637,0c0.178-0.176,0.178-0.461,0-0.637L10.824,10z"})),r.a.createElement("svg",{class:"svg-icon invite-button",viewBox:"0 0 20 20"},r.a.createElement("path",{d:"M10.219,1.688c-4.471,0-8.094,3.623-8.094,8.094s3.623,8.094,8.094,8.094s8.094-3.623,8.094-8.094S14.689,1.688,10.219,1.688 M10.219,17.022c-3.994,0-7.242-3.247-7.242-7.241c0-3.994,3.248-7.242,7.242-7.242c3.994,0,7.241,3.248,7.241,7.242C17.46,13.775,14.213,17.022,10.219,17.022 M15.099,7.03c-0.167-0.167-0.438-0.167-0.604,0.002L9.062,12.48l-2.269-2.277c-0.166-0.167-0.437-0.167-0.603,0c-0.166,0.166-0.168,0.437-0.002,0.603l2.573,2.578c0.079,0.08,0.188,0.125,0.3,0.125s0.222-0.045,0.303-0.125l5.736-5.751C15.268,7.466,15.265,7.196,15.099,7.03"})))))),r.a.createElement(R.b,{to:"/invitations/create"},r.a.createElement(G.a,{color:"primary",style:{margin:"1rem 0 0.7rem"}},"Invite New Roommate")))}),et=function(){return function(e,t){fetch("".concat($,"/invitations"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t().auth.accessToken)}}).then(function(e){return e.json()}).then(function(t){console.log("inv res",t),t.from||t.to?e(tt(t)):e(at(t))}).catch(function(t){e(X("Could not fetch invitations. Try again later.")),console.error(t)})}},tt=K("FETCH_INVITATIONS_STUDENT_SUCCESS","fromInvitations","toInvitations"),at=K("FETCH_INVITATIONS_ADMIN_SUCCESS","invitations"),nt=(K("INVITATIONS_LOADING","isLoading"),Object(c.b)(function(e){return{invitations:e.invitations.invitations,isLoading:e.invitations.isLoading}},function(e){return{fetchInvitations:function(){e(et())}}})($e),function(e){function t(e){var a;return Object(L.a)(this,t),(a=Object(H.a)(this,Object(P.a)(t).call(this,e))).state={isOpen:!1},a.toggle=a.toggle.bind(Object(z.a)(Object(z.a)(a))),a.renderLoginDropdown=a.renderLoginDropdown.bind(Object(z.a)(Object(z.a)(a))),a}return Object(_.a)(t,e),Object(F.a)(t,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"renderLoginDropdown",value:function(){return r.a.createElement(Ze,null,r.a.createElement(Be.a,{nav:!0,inNavbar:!0},r.a.createElement(Ve.a,{nav:!0,caret:!0},"Settings"),r.a.createElement(Ue.a,{right:!0},r.a.createElement(Ge.a,{onClick:this.props.logout},"Logout"))))}},{key:"render",value:function(){return r.a.createElement("div",{className:"w-100 bg-dark"},r.a.createElement(A.a,null,r.a.createElement(w.a,null,r.a.createElement(D.a,{className:"p-0"},r.a.createElement(Ye.a,{color:"dark",dark:!0,expand:"md"},r.a.createElement(We.a,{href:"/"},"Room Reservation"),r.a.createElement(Je.a,{onClick:this.toggle}),r.a.createElement(qe.a,{isOpen:this.state.isOpen,navbar:!0},r.a.createElement(Ke.a,{className:"ml-auto",navbar:!0},r.a.createElement(Xe.a,null,r.a.createElement(R.b,{to:"/students"},"Students")),r.a.createElement(Xe.a,null,r.a.createElement(R.b,{to:"/campaign"},"Campaign")),r.a.createElement(Xe.a,null,r.a.createElement(R.b,{to:"/rooms"},"Rooms")),r.a.createElement(Xe.a,null,r.a.createElement(R.b,{to:"/apartments"},"Apartments")),r.a.createElement(Xe.a,null,r.a.createElement(R.b,{to:"/invitations"},"Invitations")),this.renderLoginDropdown())))))))}}]),t}(r.a.Component)),rt=Object(c.b)(function(e){return{username:e.auth.username,isAuthenticated:e.auth.isAuthenticated,roomConfirmed:e.students.roomConfirmed}},function(e){return{logout:function(){e(ae())},confirmRoom:function(){e(function(e,t){fetch("".concat($,"/rooms/confirm"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t().auth.accessToken)}}).then(function(){e(Ce())}).catch(function(t){e(X("The system could not confirm your room at this time.. Please, try again later.")),console.error(t)})})}}})(nt),lt=function(e){function t(e){var a;return Object(L.a)(this,t),(a=Object(H.a)(this,Object(P.a)(t).call(this,e))).state={redirect:!1,redirectTo:""},a.handleDetails=a.handleDetails.bind(Object(z.a)(Object(z.a)(a))),a.handleDelete=a.handleDelete.bind(Object(z.a)(Object(z.a)(a))),a.joinRoom=a.joinRoom.bind(Object(z.a)(Object(z.a)(a))),a.columnDefs=[{headerName:"Number",field:"Number",sortable:!0,filter:!0,width:115},{headerName:"Capacity",field:"Capacity",sortable:!0,filter:!0,width:120},{headerName:"Residents Count",field:"ResidentsCount",sortable:!0,filter:!0},{headerName:"RA Room",field:"IsRA",sortable:!0,filter:!0,width:125,cellRendererFramework:function(e){return r.a.createElement(U.a,{type:"checkbox",disabled:!0,checked:e.data.IsRA,style:{margin:"1.05rem 0 0 0"}})}},{headerName:"Sex",field:"IsMale",sortable:!0,filter:!0,width:95,cellRendererFramework:function(e){return null!==e.data.isMale?e.data.IsMale?"Male":"Female":""}},{headerName:"Reserved",field:"IsReserved",sortable:!0,filter:!0,width:125,cellRendererFramework:function(e){return r.a.createElement(U.a,{type:"checkbox",disabled:!0,checked:e.data.IsReserved,style:{margin:"1.05rem 0 0 0"}})}},{headerName:"Apartment Room Number",field:"ApartmentRoomNumber",sortable:!0,filter:!0},{headerName:"Operations",pinned:"right",cellRendererFramework:function(e){return r.a.createElement(he.a,{size:"sm"},r.a.createElement(G.a,{onClick:function(){return a.handleDetails(e.data.Number)}},"Details"),r.a.createElement(G.a,{onClick:function(){return a.handleDelete(e.data.Number)}},"Delete"),r.a.createElement(G.a,{onClick:function(){return a.joinRoom(e.data.Number)}},"Join"))}}],a}return Object(_.a)(t,e),Object(F.a)(t,[{key:"handleDetails",value:function(e){this.setState({redirect:!0,redirectTo:"/rooms/single?roomNumber=".concat(e)})}},{key:"handleDelete",value:function(e){var t=this;fetch("".concat($,"/rooms/").concat(e),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.props.accessToken)}}).then(function(){return t.props.fetchRooms()}).catch(function(e){t.props.showError("Could not delete room."),console.log(e)})}},{key:"joinRoom",value:function(e){var t=this;fetch("".concat($,"/rooms/").concat(e,"/join"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.props.accessToken)}}).then(function(){return t.props.fetchRooms()}).catch(function(e){t.props.showError("Could not join room."),console.log(e)})}},{key:"componentWillMount",value:function(){this.props.fetchRooms(this.props.sk,this.props.floor)}},{key:"render",value:function(){return this.state.redirect?r.a.createElement(T.a,{to:this.state.redirectTo}):r.a.createElement("div",{className:"ag-theme-material",style:{height:"500px",width:"100%"}},r.a.createElement("div",{style:{width:"100%",textAlign:"right",marginBottom:"1em"}},r.a.createElement(de.CSVLink,{data:this.props.rooms,filename:"rooms-export.csv"},r.a.createElement("svg",{viewBox:"0 0 512 512",style:{width:"21px"}},r.a.createElement("path",{id:"statement",d:"M339.527,370.312H171.505v-30h168.022V370.312z M339.495,314.896h-167.99v-30h167.99V314.896zM339.495,259.562h-167.99v-30h167.99V259.562z M297.818,90v85.75h85.864V422H128.317V90H297.818 M322.818,50H88.317v412h335.365V150.75L322.818,50z"})),r.a.createElement("div",{style:{display:"inline-block",position:"relative",top:"2px",color:"black"}},"Export CSV"))),r.a.createElement(ue.AgGridReact,{columnDefs:this.columnDefs,rowData:this.props.rooms,paginationPageSize:30,pagination:!0}))}}]),t}(r.a.Component),ot=K("FETCH_ROOMS_SUCCESS","rooms"),ct=Object(c.b)(function(e,t){return{accessToken:e.auth.accessToken,rooms:e.rooms.rooms,sk:t.sk,floor:t.floor}},function(e){return{fetchRooms:function(t,a){e(function(e,t){return function(a,n){fetch("".concat($,"/rooms?skaptoNumber=").concat(e,"&floor=").concat(t),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n().auth.accessToken)}}).then(function(e){return e.json()}).then(function(e){a(ot(e))}).catch(function(e){a(X("Could not fetch rooms."))})}}(t,a))},showError:function(t){e(X(t))}}})(lt),st=function(e){var t=window.location.href.split("="),a=parseInt(t[1]),n=parseInt(t[2]);return r.a.createElement(oe,{title:"Rooms | Skaptopara ".concat(a," Floor ").concat(n),secondaryNav:[{title:"All Rooms",href:"/rooms/"},{title:"Create Room",href:"/rooms/create"}]},r.a.createElement(ct,{sk:a,floor:n}))},it=a(282),mt=a(283),ut=(a(124),function(e){function t(e){var a;return Object(L.a)(this,t),(a=Object(H.a)(this,Object(P.a)(t).call(this,e))).state={Id:"",FirstName:"",MiddleName:"",LastName:"",RegistrationTime:"",CreditHours:0,Email:"",IsMale:!0,IsRA:!1,IsOnCampus:!1,Comments:"",CurrentRoomNumber:"",InvitationsSent:[],InvitationsReceived:[]},a.handleInput=a.handleInput.bind(Object(z.a)(Object(z.a)(a))),a.handleCheckbox=a.handleCheckbox.bind(Object(z.a)(Object(z.a)(a))),a.redirectToStudents=a.redirectToStudents.bind(Object(z.a)(Object(z.a)(a))),a}return Object(_.a)(t,e),Object(F.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=window.location.href.split("id=")[1];fetch("".concat($,"/students/").concat(t),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.props.accessToken)}}).then(function(e){return e.json()}).then(function(t){console.log(t),e.setState(t)}).catch(function(t){e.props.showError("Could not fetch student information. Try again later."),console.log(t)})}},{key:"handleInput",value:function(e){var t={};t[e.target.name]=e.target.value,this.setState(t)}},{key:"handleCheckbox",value:function(e){var t={};t[e.target.name]=!this.state[e.target.name],this.setState(t)}},{key:"redirectToStudents",value:function(){return this.state.redirectToStudents?r.a.createElement(T.a,{to:"students"}):""}},{key:"handleSave",value:function(){var e=this;window.confirm("Do you want to save changes?")&&(console.log(this.state),fetch("".concat($,"/students/").concat(this.state.Id),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.props.accessToken)},body:JSON.stringify(this.state)}).then(function(e){return e.json()}).then(function(){return e.setState({redirectToStudents:!0})}).catch(function(t){e.props.showError("Could not save student. Try again later."),console.log(t)}))}},{key:"render",value:function(){return r.a.createElement(oe,{title:"Students",secondaryNav:[{title:"All Students",href:"/students/"},{title:"Create Student",href:"/students/create"},{title:"Bulk Add Students",href:"/students/bulk-add"}]},r.a.createElement("div",{id:"single-view",style:{marginBottom:"3em"}},this.redirectToStudents(),r.a.createElement(w.a,null,r.a.createElement(D.a,null,r.a.createElement(ce.a,null,r.a.createElement(se.a,null,r.a.createElement(it.a,null,"ID"),r.a.createElement(mt.a,null,r.a.createElement(U.a,{type:"text",name:"Id",onChange:this.handleInput,value:this.state.Id}))),r.a.createElement(se.a,null,r.a.createElement(it.a,null,"First Name"),r.a.createElement(mt.a,null,r.a.createElement(U.a,{type:"text",name:"FirstName",onChange:this.handleInput,value:this.state.FirstName}))),r.a.createElement(se.a,null,r.a.createElement(it.a,null,"Middle Name"),r.a.createElement(mt.a,null,r.a.createElement(U.a,{type:"text",name:"MiddleName",onChange:this.handleInput,value:this.state.MiddleName}))),r.a.createElement(se.a,null,r.a.createElement(it.a,null,"Last Name"),r.a.createElement(mt.a,null,r.a.createElement(U.a,{type:"text",name:"LastName",onChange:this.handleInput,value:this.state.LastName}))),r.a.createElement(se.a,null,r.a.createElement(it.a,null,"Sex"),r.a.createElement(mt.a,null,r.a.createElement(U.a,{type:"select",name:"IsMale",onChange:this.handleInput,value:this.state.IsMale},r.a.createElement("option",{value:!0},"Male"),r.a.createElement("option",{value:!1},"Female")))),r.a.createElement(se.a,null,r.a.createElement(it.a,null,"Email"),r.a.createElement(mt.a,null,r.a.createElement(U.a,{type:"text",name:"Email",onChange:this.handleInput,value:this.state.Email}))),r.a.createElement(se.a,null,r.a.createElement(it.a,null,"Current Room Number"),r.a.createElement(mt.a,null,r.a.createElement(U.a,{type:"text",name:"CurrentRoomNumber",onChange:this.handleInput,value:this.state.CurrentRoomNumber}))),r.a.createElement(se.a,null,r.a.createElement(it.a,null,"Invitations Received"),r.a.createElement(mt.a,null,this.state.InvitationsReceived&&this.state.InvitationsReceived.length>0?this.state.InvitationsReceived.map(function(e){return r.a.createElement("div",null,r.a.createElement("span",null,e.FromStudentId)," ",r.a.createElement("span",null,e.ToStudentId))}):"N/A")))),r.a.createElement(D.a,null,r.a.createElement(ce.a,null,r.a.createElement(se.a,null,r.a.createElement(it.a,null,"Credit Hours"),r.a.createElement(mt.a,null,r.a.createElement(U.a,{type:"text",name:"CreditHours",onChange:this.handleInput,value:this.state.CreditHours}))),r.a.createElement(se.a,null,r.a.createElement(it.a,null,"On Campus"),r.a.createElement(mt.a,null,r.a.createElement(U.a,{type:"checkbox",name:"IsOnCampus",onChange:this.handleCheckbox,checked:this.state.IsOnCampus}))),r.a.createElement(se.a,null,r.a.createElement(it.a,null,"Resident Assistant"),r.a.createElement(mt.a,null,r.a.createElement(U.a,{type:"checkbox",name:"IsRA",onChange:this.handleCheckbox,checked:this.state.IsRA}))),r.a.createElement(se.a,null,r.a.createElement(it.a,null,"Registration Time"),r.a.createElement(mt.a,null,this.state.RegistrationTime||"N/A")),r.a.createElement(se.a,null,r.a.createElement(it.a,null,"Comments"),r.a.createElement(mt.a,null,r.a.createElement(U.a,{type:"text",name:"Comments",onChange:this.handleInput,value:this.state.Comments}))),r.a.createElement(se.a,null,r.a.createElement(it.a,null,"Invitations Sent"),r.a.createElement(mt.a,null,this.state.InvitationsSent&&this.state.InvitationsSent.length>0?this.state.InvitationsSent.map(function(e){return r.a.createElement("div",null,r.a.createElement("span",null,e.FromStudentId)," ",r.a.createElement("span",null,e.ToStudentId))}):"N/A"))),r.a.createElement(G.a,{style:{margin:"1em"},onClick:this.handleSave.bind(this)},"Save Changes")))))}}]),t}(n.Component)),ht=Object(c.b)(function(e){return{accessToken:e.auth.accessToken}},function(e){return{showError:function(t){e(X(t))}}})(ut),dt=function(e){function t(e){var a;return Object(L.a)(this,t),(a=Object(H.a)(this,Object(P.a)(t).call(this,e))).state={Number:"",Capacity:0,IsRA:!1,IsMale:!1,IsReserved:!1,Comments:"",redirectToRooms:!1},a.handleInput=a.handleInput.bind(Object(z.a)(Object(z.a)(a))),a.handleCheckbox=a.handleCheckbox.bind(Object(z.a)(Object(z.a)(a))),a.redirectToRooms=a.redirectToRooms.bind(Object(z.a)(Object(z.a)(a))),a}return Object(_.a)(t,e),Object(F.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=window.location.href.split("?roomNumber=")[1];fetch("".concat($,"/rooms/").concat(t),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.props.accessToken)}}).then(function(e){return e.json()}).then(function(t){return e.setState(t)}).catch(function(e){return console.log(e)})}},{key:"handleInput",value:function(e){var t={};t[e.target.name]=e.target.value,this.setState(t)}},{key:"handleCheckbox",value:function(e){var t={};t[e.target.name]=!this.state[e.target.name],this.setState(t)}},{key:"redirectToRooms",value:function(){var e=window.location.href.split("?roomNumber=")[1].split("");return this.state.redirectToRooms?r.a.createElement(T.a,{to:"/rooms/view?sk=".concat(e[0],"&floor=").concat(e[1])}):""}},{key:"handleSave",value:function(){var e=this;if(window.confirm("Do you want to save changes?")){var t=window.location.href.split("?roomNumber=")[1],a=Object(u.a)({},this.state,{Capacity:parseInt(this.state.Capacity)});fetch("".concat($,"/rooms/").concat(t),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.props.accessToken)},body:JSON.stringify(a)}).then(function(e){return e.json()}).then(function(){return e.setState({redirectToRooms:!0})}).catch(function(t){e.props.showError("Could not save room. Try again later."),console.log(t)})}}},{key:"render",value:function(){return r.a.createElement(oe,{title:"Rooms",secondaryNav:[]},r.a.createElement("div",{id:"single-view"},this.redirectToRooms(),r.a.createElement(w.a,null,r.a.createElement(D.a,null,r.a.createElement(ce.a,null,r.a.createElement(se.a,null,r.a.createElement(it.a,null,"Number"),r.a.createElement(mt.a,null,r.a.createElement(U.a,{type:"text",name:"Number",onChange:this.handleInput,value:this.state.Number}))),r.a.createElement(se.a,null,r.a.createElement(it.a,null,"Capacity"),r.a.createElement(mt.a,null,r.a.createElement(U.a,{type:"text",name:"Capacity",onChange:this.handleInput,value:this.state.Capacity}))),r.a.createElement(se.a,null,r.a.createElement(it.a,null,"Sex"),r.a.createElement(mt.a,null,r.a.createElement(U.a,{type:"select",name:"IsMale",onChange:this.handleInput,value:this.state.IsMale},r.a.createElement("option",{value:!0},"Male"),r.a.createElement("option",{value:!1},"Female")))),r.a.createElement(se.a,null,r.a.createElement(it.a,null,"Comments"),r.a.createElement(mt.a,null,r.a.createElement(U.a,{type:"text",name:"Comments",onChange:this.handleInput,value:this.state.Comments}))),r.a.createElement(se.a,null,r.a.createElement(it.a,null,"Apartment Room Number"),r.a.createElement(mt.a,null,this.state.ApartmentRoom&&this.state.ApartmentRoom.Number?this.state.ApartmentRoom.Number:"N/A")))),r.a.createElement(D.a,null,r.a.createElement(ce.a,null,r.a.createElement(se.a,null,r.a.createElement(it.a,null,"RA Room"),r.a.createElement(mt.a,null,r.a.createElement(U.a,{type:"checkbox",name:"IsRA",onChange:this.handleCheckbox,checked:this.state.IsRA}))),r.a.createElement(se.a,null,r.a.createElement(it.a,null,"Reserved"),r.a.createElement(mt.a,null,r.a.createElement(U.a,{type:"checkbox",name:"IsReserved",onChange:this.handleCheckbox,checked:this.state.IsReserved}))),r.a.createElement(se.a,null,r.a.createElement(it.a,null,"Residents"),r.a.createElement(mt.a,null,r.a.createElement(ce.a,null,this.state.Residents&&this.state.Residents.length>0?this.state.Residents.map(function(e){return r.a.createElement(se.a,null,r.a.createElement("span",{style:{fontWeight:"bold"}},e.Id)," ","".concat(e.FirstName," ").concat(e.LastName))}):r.a.createElement(se.a,null,"N/A")))),r.a.createElement(se.a,null,r.a.createElement(it.a,null,"Invitations"),r.a.createElement(mt.a,null,r.a.createElement(ce.a,null,this.state.Invitations&&this.state.Invitations.length>0?this.state.Invitations.map(function(e){return r.a.createElement(se.a,null,"From (ID): ",e.FromStudentId," To (ID): ",e.ToStudentId)}):r.a.createElement(se.a,null,"N/A"))))),r.a.createElement(G.a,{style:{margin:"1em"},onClick:this.handleSave.bind(this)},"Save Changes")))))}}]),t}(n.Component),pt=Object(c.b)(function(e){return{accessToken:e.auth.accessToken}})(dt),Et=function(e){function t(e){var a;return Object(L.a)(this,t),(a=Object(H.a)(this,Object(P.a)(t).call(this,e))).columnDefs=[{headerName:"Room #1",field:"Number",sortable:!0,filter:!0},{headerName:"Room #2",field:"ApartmentRoomNumber",sortable:!0,filter:!0},{headerName:"Sex",field:"IsMale",sortable:!0,filter:!0,width:95,cellRendererFramework:function(e){return null!==e.data.IsMale?e.data.IsMale?"Male":"Female":""}},{headerName:"Capacity",field:"TotalCapacity",sortable:!0,filter:!0},{headerName:"Residents",field:"TotalResidentsCount",sortable:!0,filter:!0},{headerName:"Operations",pinned:"right",cellRendererFramework:function(e){return r.a.createElement(he.a,{size:"sm"},r.a.createElement(G.a,{onClick:function(){return a.handleDetails(e.data.Number)}},"Details"),r.a.createElement(G.a,{onClick:function(){return a.handleDelete(e.data.Number)}},"Delete"))}}],a.state={redirect:!1,redirectTo:""},a.handleDetails=a.handleDetails.bind(Object(z.a)(Object(z.a)(a))),a.renderRedirect=a.renderRedirect.bind(Object(z.a)(Object(z.a)(a))),a.handleDelete=a.handleDelete.bind(Object(z.a)(Object(z.a)(a))),a}return Object(_.a)(t,e),Object(F.a)(t,[{key:"handleDetails",value:function(e){this.setState({redirect:!0,redirectTo:"/apartments/details?number=".concat(e)})}},{key:"handleDelete",value:function(e){var t=this;fetch("".concat($,"/rooms/apartments/").concat(e,"/detach"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.props.accessToken)}}).then(function(){return t.props.fetchApartments()}).catch(function(e){t.props.showError("Could not delete student."),console.log(e)})}},{key:"renderRedirect",value:function(){return this.state.redirect?r.a.createElement(T.a,{to:this.state.redirectTo}):""}},{key:"render",value:function(){return r.a.createElement("div",{className:"ag-theme-material",style:{height:"500px",width:"100%"}},r.a.createElement("div",{style:{width:"100%",textAlign:"right",marginBottom:"1em"}},r.a.createElement(de.CSVLink,{data:this.props.apartments,filename:"apartments-export.csv"},r.a.createElement("svg",{viewBox:"0 0 512 512",style:{width:"21px"}},r.a.createElement("path",{id:"statement",d:"M339.527,370.312H171.505v-30h168.022V370.312z M339.495,314.896h-167.99v-30h167.99V314.896zM339.495,259.562h-167.99v-30h167.99V259.562z M297.818,90v85.75h85.864V422H128.317V90H297.818 M322.818,50H88.317v412h335.365V150.75L322.818,50z"})),r.a.createElement("div",{style:{display:"inline-block",position:"relative",top:"2px",color:"black"}},"Export CSV"))),this.renderRedirect(),r.a.createElement(ue.AgGridReact,{columnDefs:this.columnDefs,rowData:this.props.apartments,paginationPageSize:30,pagination:!0}))}}]),t}(r.a.Component),ft=function(e){function t(){return Object(L.a)(this,t),Object(H.a)(this,Object(P.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(F.a)(t,[{key:"componentWillMount",value:function(){this.props.fetchApartments()}},{key:"render",value:function(){return r.a.createElement("div",{id:"apartments"},r.a.createElement(oe,{title:"Apartments",secondaryNav:[{title:"All Apartments",href:"/apartments/"},{title:"Create Apartment",href:"/apartments/create"}]},r.a.createElement(Et,{apartments:this.props.apartments,accessToken:this.props.accessToken,fetchApartments:this.props.fetchApartments,showError:this.props.showError})))}}]),t}(r.a.Component),bt=K("FETCH_APARTMENTS_SUCCESS","apartments"),vt=Object(c.b)(function(e){return{accessToken:e.auth.accessToken,apartments:e.apartments.apartments}},function(e){return{fetchApartments:function(){return e(function(e,t){fetch("".concat($,"/rooms/apartments"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t().auth.accessToken)}}).then(function(e){return e.json()}).then(function(t){e(bt(t))}).catch(function(t){e(X("Could not fetch apartments. Try again later.")),console.log(t)})})},showError:function(t){e(X(t))}}})(ft),gt=function(e){function t(e){var a;return Object(L.a)(this,t),(a=Object(H.a)(this,Object(P.a)(t).call(this,e))).state={studentId:"",done:!1},a.handleInput=a.handleInput.bind(Object(z.a)(Object(z.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(z.a)(Object(z.a)(a))),a}return Object(_.a)(t,e),Object(F.a)(t,[{key:"handleInput",value:function(e){this.setState({studentId:e.target.value})}},{key:"handleSubmit",value:function(){this.props.createInvitation(this.state.studentId),this.setState({done:!0})}},{key:"done",value:function(){return this.state.done?r.a.createElement(T.a,{to:"/rooms"}):""}},{key:"render",value:function(){return r.a.createElement(oe,{title:"Invite New Roommate",secondaryNav:[]},r.a.createElement(w.a,null,r.a.createElement(D.a,{md:"6"},this.done(),r.a.createElement(M.a,null,r.a.createElement(x.a,null,r.a.createElement(B.a,null,r.a.createElement(V.a,{for:"student-id"},"Student ID"),r.a.createElement(U.a,{type:"text",name:"student-id",id:"student-id",value:this.state.studentId,onChange:this.handleInput})),r.a.createElement(G.a,{color:"primary",onClick:this.handleSubmit},"Invite"))))))}}]),t}(r.a.Component),Ct=Object(c.b)(function(e){return{}},function(e){return{createInvitation:function(){var t;e(function(e,a){fetch("".concat($,"/invitations"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a().auth.accessToken)},body:JSON.stringify({InviteeId:t})}).catch(function(t){e(X("Could not create invitation. Try again later.")),console.error(t)})})}}})(gt),Ot=function(e){function t(e){var a;return Object(L.a)(this,t),(a=Object(H.a)(this,Object(P.a)(t).call(this,e))).state={room1:"",room2:"",redirectToApartments:!1},a.handleSubmit=a.handleSubmit.bind(Object(z.a)(Object(z.a)(a))),a.redirectToApartments=a.redirectToApartments.bind(Object(z.a)(Object(z.a)(a))),a.handleInput=a.handleInput.bind(Object(z.a)(Object(z.a)(a))),a}return Object(_.a)(t,e),Object(F.a)(t,[{key:"redirectToApartments",value:function(){return this.state.redirectToApartments?r.a.createElement(T.a,{to:"/apartments"}):""}},{key:"handleSubmit",value:function(){var e=this;""===this.state.room1||""===this.state.room2?this.props.showError("All fields are required."):(console.log("req",{Room1Number:this.state.room1,Room2Number:this.state.room2}),fetch("".concat($,"/rooms/apartments"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.props.accessToken)},body:JSON.stringify({Room1Number:this.state.room1,Room2Number:this.state.room2})}).then(function(){return e.setState({redirectToApartments:!0})}).catch(function(t){e.props.showError("Could not create apartment."),console.log(t)}))}},{key:"handleInput",value:function(e){var t={};t[e.target.name]=e.target.value,this.setState(t)}},{key:"render",value:function(){return r.a.createElement("div",{id:"apartments"},this.redirectToApartments(),r.a.createElement(oe,{title:"Apartments | Create Apartment",secondaryNav:[{title:"All Apartments",href:"/apartments/"},{title:"Create Apartment",href:"/apartments/create"}]},r.a.createElement(w.a,null,r.a.createElement(D.a,{md:"6"},r.a.createElement(M.a,null,r.a.createElement(x.a,null,r.a.createElement(B.a,null,r.a.createElement(V.a,{for:"room1"},"Room #1"),r.a.createElement(U.a,{type:"text",name:"room1",onChange:this.handleInput,value:this.state.room1})),r.a.createElement(B.a,null,r.a.createElement(V.a,{for:"room1"},"Room #2"),r.a.createElement(U.a,{type:"text",name:"room2",onChange:this.handleInput,value:this.state.room2})),r.a.createElement(G.a,{color:"primary",onClick:this.handleSubmit},"Create")))))))}}]),t}(r.a.Component),kt=Object(c.b)(function(e){return{accessToken:e.auth.accessToken}},function(e){return{showError:function(t){e(X(t))}}})(Ot),St=function(e){function t(e){var a;return Object(L.a)(this,t),(a=Object(H.a)(this,Object(P.a)(t).call(this,e))).state={},a}return Object(_.a)(t,e),Object(F.a)(t,[{key:"componentWillMount",value:function(){var e=window.location.href.split("?number=")[1],t=this.props.apartments.find(function(t){return t.Number===e});null===t.IsMale?t.Sex="":t.Sex=t.IsMale?"Male":"Female",this.setState(t)}},{key:"render",value:function(){return r.a.createElement(oe,{title:"Apartments",secondaryNav:[{title:"All Apartments",href:"/apartments/"},{title:"Create Apartment",href:"/apartments/create"}]},r.a.createElement("div",{id:"single-view"},r.a.createElement(w.a,null,r.a.createElement(D.a,null,r.a.createElement(ce.a,null,r.a.createElement(se.a,null,r.a.createElement(it.a,null,"Room #1"),r.a.createElement(mt.a,null,this.state.Number)),r.a.createElement(se.a,null,r.a.createElement(it.a,null,"Room #2"),r.a.createElement(mt.a,null,this.state.ApartmentRoomNumber)),r.a.createElement(se.a,null,r.a.createElement(it.a,null,"Sex"),r.a.createElement(mt.a,null,this.state.Sex)))),r.a.createElement(D.a,null,r.a.createElement(ce.a,null,r.a.createElement(se.a,null,r.a.createElement(it.a,null,"Capacity"),r.a.createElement(mt.a,null,this.state.TotalCapacity)),r.a.createElement(se.a,null,r.a.createElement(it.a,null,"Residents Count"),r.a.createElement(mt.a,null,this.state.TotalResidentsCount)),r.a.createElement(se.a,null,r.a.createElement(it.a,null,"Residents"),r.a.createElement(mt.a,null,r.a.createElement(ce.a,null,this.state.Residents1&&this.state.Residents1.length>0?this.state.Residents1.map(function(e){return r.a.createElement(se.a,null,"ID: ",e.Item1," \xa0\xa0\xa0 Name: ",e.Item2)}):"",this.state.Residents2&&this.state.Residents2.length>0?this.state.Residents2.map(function(e){return r.a.createElement(se.a,null,"ID: ",e.Item1," \xa0\xa0\xa0 Name: ",e.Item2)}):"",this.state.Residents1||this.state.Residents2?"":r.a.createElement(se.a,null,"N/A")))))))))}}]),t}(n.Component),yt=Object(c.b)(function(e){return{apartments:e.apartments.apartments}})(St),It=function(e){function t(e){var a;return Object(L.a)(this,t),(a=Object(H.a)(this,Object(P.a)(t).call(this,e))).state={Id:"",FirstName:"",MiddleName:"",LastName:"",CreditHours:"",Email:"",IsMale:!0,IsRA:!1,IsRoomConfirmed:!1,IsOnCampus:!1,Comments:"",redirectToStudents:!1},a.handleSubmit=a.handleSubmit.bind(Object(z.a)(Object(z.a)(a))),a.redirectToStudents=a.redirectToStudents.bind(Object(z.a)(Object(z.a)(a))),a.handleInput=a.handleInput.bind(Object(z.a)(Object(z.a)(a))),a.handleCheck=a.handleCheck.bind(Object(z.a)(Object(z.a)(a))),a}return Object(_.a)(t,e),Object(F.a)(t,[{key:"redirectToStudents",value:function(){return this.state.redirectToStudents?r.a.createElement(T.a,{to:"/students"}):""}},{key:"handleSubmit",value:function(){var e=this;if(""===this.state.Id||""===this.state.FirstName||""===this.state.LastName||""===this.state.CreditHours||""===this.state.Email)this.props.showError("All fields are required.");else{var t=Object(u.a)({},this.state,{CreditHours:parseInt(this.state.CreditHours)});delete t.redirectToStudents,fetch("".concat($,"/students"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.props.accessToken)},body:JSON.stringify(t)}).then(function(e){return e.json()}).then(function(){return e.setState({redirectToStudents:!0})}).catch(function(t){e.props.showError("Could not create student."),console.log(t)})}}},{key:"handleInput",value:function(e){var t={};t[e.target.name]=e.target.value,this.setState(t)}},{key:"handleCheck",value:function(e){var t={};t[e.target.name]=!this.state[e.target.name],this.setState(t)}},{key:"render",value:function(){return r.a.createElement("div",{id:"students"},this.redirectToStudents(),r.a.createElement(oe,{title:"Students | Create Student",secondaryNav:[{title:"All Students",href:"/students/"},{title:"Create Student",href:"/students/create"},{title:"Bulk Add Students",href:"/students/bulk-add"}]},r.a.createElement(w.a,null,r.a.createElement(D.a,{md:"6"},r.a.createElement(M.a,null,r.a.createElement(x.a,null,r.a.createElement(B.a,null,r.a.createElement(V.a,{for:"Id"},"Student ID"),r.a.createElement(U.a,{type:"text",name:"Id",onChange:this.handleInput,value:this.state.Id})),r.a.createElement(B.a,null,r.a.createElement(V.a,{for:"FirstName"},"First Name"),r.a.createElement(U.a,{type:"text",name:"FirstName",onChange:this.handleInput,value:this.state.FirstName})),r.a.createElement(B.a,null,r.a.createElement(V.a,{for:"MiddleName"},"Middle Name"),r.a.createElement(U.a,{type:"text",name:"MiddleName",onChange:this.handleInput,value:this.state.MiddleName})),r.a.createElement(B.a,null,r.a.createElement(V.a,{for:"LastName"},"Last Name"),r.a.createElement(U.a,{type:"text",name:"LastName",onChange:this.handleInput,value:this.state.LastName})),r.a.createElement(B.a,null,r.a.createElement(V.a,{for:"Email"},"Email"),r.a.createElement(U.a,{type:"text",name:"Email",onChange:this.handleInput,value:this.state.Email})),r.a.createElement(B.a,null,r.a.createElement(V.a,{for:"CreditHours"},"Credit Hours"),r.a.createElement(U.a,{type:"text",name:"CreditHours",onChange:this.handleInput,value:this.state.CreditHours}))))),r.a.createElement(D.a,{md:"6"},r.a.createElement(M.a,null,r.a.createElement(x.a,null,r.a.createElement(B.a,null,r.a.createElement(V.a,{for:"CreditHours"},"Sex"),r.a.createElement(U.a,{type:"select",name:"IsMale",onChange:this.handleInput,value:this.props.IsMale},r.a.createElement("option",{defaultValue:!0,value:!0},"Male"),r.a.createElement("option",{value:!1},"Female"))),r.a.createElement("br",null),r.a.createElement(B.a,{check:!0},r.a.createElement(V.a,{check:!0},r.a.createElement(U.a,{type:"checkbox",name:"IsRA",onClick:this.handleCheck,checked:this.props.IsRA})," ","Resident Assistant")),r.a.createElement("br",null),r.a.createElement(B.a,{check:!0},r.a.createElement(V.a,{check:!0},r.a.createElement(U.a,{type:"checkbox",name:"IsRoomConfirmed",onClick:this.handleCheck,checked:this.props.IsRoomConfirmed})," ","Confirmed Room")),r.a.createElement("br",null),r.a.createElement(B.a,{check:!0},r.a.createElement(V.a,{check:!0},r.a.createElement(U.a,{type:"checkbox",name:"IsOnCampus",onClick:this.handleCheck,checked:this.props.IsOnCampus})," ","On Campus")),r.a.createElement("br",null),r.a.createElement(B.a,null,r.a.createElement(V.a,{for:"Comments"},"Comments"),r.a.createElement(U.a,{type:"text",name:"Comments",onChange:this.handleInput,value:this.state.Comments})))),r.a.createElement(G.a,{color:"primary",onClick:this.handleSubmit,style:{marginTop:"1rem"}},"Create")))))}}]),t}(r.a.Component),jt=Object(c.b)(function(e){return{accessToken:e.auth.accessToken}},function(e){return{showError:function(t){e(X(t))}}})(It),Nt=function(e){function t(e){var a;return Object(L.a)(this,t),(a=Object(H.a)(this,Object(P.a)(t).call(this,e))).state={Number:"",Capacity:"",IsRA:!1,IsMale:!0,IsReserved:!1,Comments:"",redirectToRooms:!1},a.handleSubmit=a.handleSubmit.bind(Object(z.a)(Object(z.a)(a))),a.redirectToRooms=a.redirectToRooms.bind(Object(z.a)(Object(z.a)(a))),a.handleInput=a.handleInput.bind(Object(z.a)(Object(z.a)(a))),a.handleCheck=a.handleCheck.bind(Object(z.a)(Object(z.a)(a))),a}return Object(_.a)(t,e),Object(F.a)(t,[{key:"redirectToRooms",value:function(){return this.state.redirectToRooms?r.a.createElement(T.a,{to:"/rooms"}):""}},{key:"handleSubmit",value:function(){var e=this;if(""===this.state.Number||""===this.state.Capacity)this.props.showError("All fields are required.");else{var t=Object(u.a)({},this.state,{Capacity:parseInt(this.state.Capacity),IsMale:1==this.state.IsMale});delete t.redirectToRooms,fetch("".concat($,"/rooms"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.props.accessToken)},body:JSON.stringify(t)}).then(function(e){return e.json()}).then(function(){return e.setState({redirectToRooms:!0})}).catch(function(t){e.props.showError("Could not create room."),console.log(t)})}}},{key:"handleInput",value:function(e){var t={};t[e.target.name]=e.target.value,this.setState(t)}},{key:"handleCheck",value:function(e){var t={};t[e.target.name]=!this.state[e.target.name],this.setState(t)}},{key:"render",value:function(){return r.a.createElement("div",{id:"rooms"},this.redirectToRooms(),r.a.createElement(oe,{title:"Rooms | Create Room",secondaryNav:[{title:"All Rooms",href:"/rooms/"},{title:"Create Room",href:"/rooms/create"}]},r.a.createElement(w.a,null,r.a.createElement(D.a,{md:"6"},r.a.createElement(M.a,null,r.a.createElement(x.a,null,r.a.createElement(B.a,null,r.a.createElement(V.a,{for:"Number"},"Number"),r.a.createElement(U.a,{type:"text",name:"Number",onChange:this.handleInput,value:this.state.Number})),r.a.createElement(B.a,null,r.a.createElement(V.a,{for:"Capacity"},"Capacity"),r.a.createElement(U.a,{type:"text",name:"Capacity",onChange:this.handleInput,value:this.state.Capacity})),r.a.createElement(B.a,null,r.a.createElement(V.a,{for:"Comments"},"Comments"),r.a.createElement(U.a,{type:"text",name:"Comments",onChange:this.handleInput,value:this.state.Comments}))))),r.a.createElement(D.a,{md:"6"},r.a.createElement(M.a,null,r.a.createElement(x.a,null,r.a.createElement(B.a,null,r.a.createElement(V.a,{for:"CreditHours"},"Sex"),r.a.createElement(U.a,{type:"select",name:"IsMale",onChange:this.handleInput,value:this.props.IsMale},r.a.createElement("option",{defaultValue:!0,value:!0},"Male"),r.a.createElement("option",{value:!1},"Female"))),r.a.createElement("br",null),r.a.createElement(B.a,{check:!0},r.a.createElement(V.a,{check:!0},r.a.createElement(U.a,{type:"checkbox",name:"IsRA",onClick:this.handleCheck,checked:this.props.IsRA})," ","Resident Assistant")),r.a.createElement("br",null),r.a.createElement(B.a,{check:!0},r.a.createElement(V.a,{check:!0},r.a.createElement(U.a,{type:"checkbox",name:"IsReserved",onClick:this.handleCheck,checked:this.props.IsReserved})," ","Is Reserved")),r.a.createElement("br",null))),r.a.createElement(G.a,{color:"primary",onClick:this.handleSubmit,style:{marginTop:"1rem"}},"Create")))))}}]),t}(r.a.Component),Tt=Object(c.b)(function(e){return{accessToken:e.auth.accessToken}},function(e){return{showError:function(t){e(X(t))}}})(Nt),Rt=function(e){function t(e){var a;return Object(L.a)(this,t),(a=Object(H.a)(this,Object(P.a)(t).call(this,e))).columnDefs=[{headerName:"From (Student ID)",field:"FromStudentId",sortable:!0,filter:!0},{headerName:"From (Student Name)",field:"FromStudentName",sortable:!0,filter:!0},{headerName:"To (Student ID)",field:"ToStudentId",sortable:!0,filter:!0},{headerName:"To (Student Name)",field:"ToStudentName",sortable:!0,filter:!0},{headerName:"Room Number",field:"RoomNumber",sortable:!0,filter:!0},{headerName:"Operations",pinned:"right",cellRendererFramework:function(e){return r.a.createElement(he.a,{size:"sm"},r.a.createElement(G.a,{onClick:function(){return a.handleReject(e.data.Id)}},"Reject"),r.a.createElement(G.a,{onClick:function(){return a.handleApprove(e.data.Id)}},"Approve"))}}],a}return Object(_.a)(t,e),Object(F.a)(t,[{key:"handleReject",value:function(e){var t=this;fetch("".concat($,"/invitations/").concat(e),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.props.accessToken)}}).then(function(){return t.props.fetchInvitations()}).catch(function(e){t.props.showError("Could not reject invitation."),console.log(e)})}},{key:"handleApprove",value:function(e){var t=this;fetch("".concat($,"/invitations/").concat(e,"/accept"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.props.accessToken)}}).then(function(){return t.props.fetchInvitations()}).catch(function(e){t.props.showError("Could not approve invitation."),console.log(e)})}},{key:"render",value:function(){return r.a.createElement("div",{className:"ag-theme-material",style:{height:"500px",width:"100%"}},r.a.createElement("div",{style:{width:"100%",textAlign:"right",marginBottom:"1em"}},r.a.createElement(de.CSVLink,{data:this.props.invitations,filename:"invitations-export.csv"},r.a.createElement("svg",{viewBox:"0 0 512 512",style:{width:"21px"}},r.a.createElement("path",{id:"statement",d:"M339.527,370.312H171.505v-30h168.022V370.312z M339.495,314.896h-167.99v-30h167.99V314.896zM339.495,259.562h-167.99v-30h167.99V259.562z M297.818,90v85.75h85.864V422H128.317V90H297.818 M322.818,50H88.317v412h335.365V150.75L322.818,50z"})),r.a.createElement("div",{style:{display:"inline-block",position:"relative",top:"2px",color:"black"}},"Export CSV"))),r.a.createElement(ue.AgGridReact,{columnDefs:this.columnDefs,rowData:this.props.invitations,paginationAutoPageSize:!0,pagination:!0}))}}]),t}(r.a.Component),At=function(e){function t(){return Object(L.a)(this,t),Object(H.a)(this,Object(P.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(F.a)(t,[{key:"componentWillMount",value:function(){this.props.fetchInvitations()}},{key:"render",value:function(){return r.a.createElement("div",{id:"invitations"},r.a.createElement(oe,{title:"Invitations",secondaryNav:[]},r.a.createElement(Rt,{invitations:this.props.invitations,accessToken:this.props.accessToken,fetchInvitations:this.props.fetchInvitations,showError:this.props.showError})))}}]),t}(r.a.Component),wt=Object(c.b)(function(e){return{accessToken:e.auth.accessToken,invitations:e.invitations.invitations}},function(e){return{fetchInvitations:function(){return e(et())},showError:function(t){return e(X(t))}}})(At),Dt=function(e){function t(e){var a;return Object(L.a)(this,t),(a=Object(H.a)(this,Object(P.a)(t).call(this,e))).state={FromStudentId:"",ToStudentId:"",RoomNumber:"",redirectToInvitations:!1},a.handleInput=a.handleInput.bind(Object(z.a)(Object(z.a)(a))),a.redirectToInvitations=a.redirectToInvitations.bind(Object(z.a)(Object(z.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(z.a)(Object(z.a)(a))),a}return Object(_.a)(t,e),Object(F.a)(t,[{key:"redirectToInvitations",value:function(){return this.state.redirectToInvitations?r.a.createElement(T.a,{to:"/invitations"}):""}},{key:"handleInput",value:function(e){var t={};t[e.target.name]=e.target.value,this.setState(t)}},{key:"handleSubmit",value:function(){""===this.state.FromStudentId||""===this.state.ToStudentId||""===this.state.RoomNumber?this.props.showError("All fields are required"):delete Object(u.a)({},this.state).redirectToInvitations}},{key:"render",value:function(){return r.a.createElement("div",{id:"invitations"},r.a.createElement(oe,{title:"Invitations | Create Invitation",secondaryNav:[{title:"Create Invitation",href:"invitations/admin/create"}]},r.a.createElement(w.a,null,this.redirectToInvitations(),r.a.createElement(D.a,{md:"6"},r.a.createElement(M.a,null,r.a.createElement(x.a,null,r.a.createElement(B.a,null,r.a.createElement(V.a,{for:"FromStudentId"},"From (Student ID):"),r.a.createElement(U.a,{type:"text",name:"FromStudentId",id:"FromStudentId",value:this.state.FromStudentId,onChange:this.handleInput})),r.a.createElement(B.a,null,r.a.createElement(V.a,{for:"ToStudentId"},"To (Student ID):"),r.a.createElement(U.a,{type:"text",name:"ToStudentId",id:"ToStudentId",value:this.state.ToStudentId,onChange:this.handleInput})),r.a.createElement(B.a,null,r.a.createElement(V.a,{for:"RoomNumber"},"Room Number"),r.a.createElement(U.a,{type:"text",name:"RoomNumber",id:"RoomNumber",value:this.state.RoomNumber,onChange:this.handleInput})),r.a.createElement(G.a,{color:"primary",onClick:this.handleSubmit},"Create Invitation")))))))}}]),t}(r.a.Component),Mt=Object(c.b)(function(e){return{accessToken:e.auth.accessToken}},function(e){return{showError:function(t){e(X(t))}}})(Dt),xt=function(e,t){return e.isAuthenticated?t:r.a.createElement(T.a,{to:"/"})},Lt=function(e){return r.a.createElement(R.a,null,r.a.createElement("div",null,r.a.createElement(Ze,null,r.a.createElement(rt,null)),r.a.createElement(T.b,{path:"/",exact:!0,component:re}),r.a.createElement(T.b,{path:"/rooms",exact:!0,render:function(){return xt(e,r.a.createElement(me,null))}}),r.a.createElement(T.b,{path:"/rooms/single",exact:!0,render:function(){return xt(e,r.a.createElement(pt,null))}}),r.a.createElement(T.b,{path:"/rooms/view",render:function(){return xt(e,r.a.createElement(st,null))}}),r.a.createElement(T.b,{path:"/rooms/create",exact:!0,render:function(){return xt(e,r.a.createElement(Tt,null))}}),r.a.createElement(T.b,{path:"/students",exact:!0,render:function(){return xt(e,r.a.createElement(Oe,null))}}),r.a.createElement(T.b,{path:"/students/bulk-add",exact:!0,render:function(){return xt(e,r.a.createElement(ze,null))}}),r.a.createElement(T.b,{path:"/students/create",exact:!0,render:function(){return xt(e,r.a.createElement(jt,null))}}),r.a.createElement(T.b,{path:"/single-student",exact:!0,render:function(){return xt(e,r.a.createElement(ht,null))}}),r.a.createElement(T.b,{path:"/campaign",exact:!0,render:function(){return xt(e,r.a.createElement(Le,null))}}),r.a.createElement(T.b,{path:"/apartments",exact:!0,render:function(){return xt(e,r.a.createElement(vt,null))}}),r.a.createElement(T.b,{path:"/invitations/create",exact:!0,render:function(){return xt(e,r.a.createElement(Ct,null))}}),r.a.createElement(T.b,{path:"/invitations/admin/create",exact:!0,render:function(){return xt(e,r.a.createElement(Mt,null))}}),r.a.createElement(T.b,{path:"/apartments/create",exact:!0,render:function(){return xt(e,r.a.createElement(kt,null))}}),r.a.createElement(T.b,{path:"/apartments/details",exact:!0,render:function(){return xt(e,r.a.createElement(yt,null))}}),r.a.createElement(T.b,{path:"/invitations/",exact:!0,render:function(){return xt(e,r.a.createElement(wt,null))}})))},Ft=Object(c.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated,isAdmin:"admin"===e.auth.role||!1,phase:e.auth.phase}})(Lt),Ht=a(287),Pt=a(284),_t=a(285),zt=a(286),Bt=function(e){return e.error?r.a.createElement(Ht.a,{isOpen:!0,className:"error-modal"},r.a.createElement(Pt.a,null,"Error"),r.a.createElement(_t.a,null,e.errorMessage),r.a.createElement(zt.a,null,r.a.createElement(G.a,{color:"primary",onClick:e.hideError},"Close"))):e.alert?r.a.createElement(Ht.a,{isOpen:!0,className:"alert-modal"},r.a.createElement(_t.a,null,e.alertMessage),r.a.createElement(zt.a,null,r.a.createElement(G.a,{color:"primary",onClick:e.hideAlert},"Close"))):""},Vt=Object(c.b)(function(e){return{error:e.alert.error,alert:e.alert.alert,alertMessage:e.alert.alertMessage,errorMessage:e.alert.errorMessage}},function(e){return{hideError:function(){e(Q())},hideAlert:function(){e(Z())}}})(Bt),Ut=(a(254),a(255),a(256),a(257),a(258),N()),Gt=localStorage.getItem("token");Gt&&Ut.dispatch((q=Gt,window.location.href,function(e){fetch("".concat($,"/campaigns"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(q)}}).then(function(e){return e.text()}).then(function(t){e(""!==t?ne(q,parseInt(t)):ae())}).catch(function(){return e(ae())})})),o.a.render(r.a.createElement(c.a,{store:Ut},r.a.createElement(Vt,null),r.a.createElement(Ft,null)),document.getElementById("root"))}},[[180,1,2]]]);
//# sourceMappingURL=main.0323cec3.chunk.js.map